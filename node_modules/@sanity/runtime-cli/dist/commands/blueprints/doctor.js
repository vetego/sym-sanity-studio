import { Command, Flags } from '@oclif/core';
import config from '../../config.js';
import { blueprintDoctorCore } from '../../cores/blueprints/doctor.js';
export default class DoctorCommand extends Command {
    static description = 'Diagnose potential issues with Blueprint configuration';
    static examples = [];
    static flags = {
        verbose: Flags.boolean({
            description: 'Provide detailed information about issues',
            default: false,
        }),
        path: Flags.string({
            description: 'Path to the Blueprint configuration file',
        }),
        fix: Flags.boolean({
            description: 'Interactively fix configuration issues',
            default: false,
        }),
    };
    async run() {
        const { flags } = await this.parse(DoctorCommand);
        const { token } = config;
        const { success, error } = await blueprintDoctorCore({
            bin: this.config.bin,
            log: (message) => this.log(message),
            token,
            flags,
        });
        if (!success)
            this.error(error);
    }
}
