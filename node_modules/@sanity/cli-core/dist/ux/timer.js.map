{"version":3,"sources":["../../src/ux/timer.ts"],"sourcesContent":["import {performance} from 'node:perf_hooks'\n\ninterface TimeMeasurer {\n  end: (name: string) => number\n  getTimings: () => Record<string, number>\n  start: (name: string) => void\n}\n\n/**\n * Starts a terminal timer\n *\n * @internal\n */\nexport function getTimer(): TimeMeasurer {\n  const timings: Record<string, number> = {}\n  const startTimes: Record<string, number> = {}\n\n  function start(name: string): void {\n    if (startTimes[name] !== undefined) {\n      throw new TypeError(`Timer \"${name}\" already started, cannot overwrite`)\n    }\n\n    startTimes[name] = performance.now()\n  }\n\n  function end(name: string): number {\n    if (startTimes[name] === undefined) {\n      throw new TypeError(`Timer \"${name}\" never started, cannot end`)\n    }\n\n    timings[name] = performance.now() - startTimes[name]\n    return timings[name]\n  }\n\n  return {end, getTimings: () => timings, start}\n}\n"],"names":["performance","getTimer","timings","startTimes","start","name","undefined","TypeError","now","end","getTimings"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAiB;AAQ3C;;;;CAIC,GACD,OAAO,SAASC;IACd,MAAMC,UAAkC,CAAC;IACzC,MAAMC,aAAqC,CAAC;IAE5C,SAASC,MAAMC,IAAY;QACzB,IAAIF,UAAU,CAACE,KAAK,KAAKC,WAAW;YAClC,MAAM,IAAIC,UAAU,CAAC,OAAO,EAAEF,KAAK,mCAAmC,CAAC;QACzE;QAEAF,UAAU,CAACE,KAAK,GAAGL,YAAYQ,GAAG;IACpC;IAEA,SAASC,IAAIJ,IAAY;QACvB,IAAIF,UAAU,CAACE,KAAK,KAAKC,WAAW;YAClC,MAAM,IAAIC,UAAU,CAAC,OAAO,EAAEF,KAAK,2BAA2B,CAAC;QACjE;QAEAH,OAAO,CAACG,KAAK,GAAGL,YAAYQ,GAAG,KAAKL,UAAU,CAACE,KAAK;QACpD,OAAOH,OAAO,CAACG,KAAK;IACtB;IAEA,OAAO;QAACI;QAAKC,YAAY,IAAMR;QAASE;IAAK;AAC/C"}