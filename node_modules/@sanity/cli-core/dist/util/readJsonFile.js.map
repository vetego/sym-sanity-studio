{"version":3,"sources":["../../src/util/readJsonFile.ts"],"sourcesContent":["import {readFile} from 'node:fs/promises'\n\n/**\n * Read the file at the given path and parse it as JSON.\n *\n * @param filePath - Path to JSON file to read\n * @returns The parsed file\n * @internal\n */\nexport async function readJsonFile(filePath: string): Promise<any> {\n  let content: string\n  try {\n    content = await readFile(filePath, 'utf8')\n  } catch (err: unknown) {\n    throw new Error(`Failed to read \"${filePath}\"`, {cause: err})\n  }\n\n  try {\n    return JSON.parse(content)\n  } catch (err: unknown) {\n    throw new Error(`Failed to parse \"${filePath}\" as JSON`, {cause: err})\n  }\n}\n"],"names":["readFile","readJsonFile","filePath","content","err","Error","cause","JSON","parse"],"mappings":"AAAA,SAAQA,QAAQ,QAAO,mBAAkB;AAEzC;;;;;;CAMC,GACD,OAAO,eAAeC,aAAaC,QAAgB;IACjD,IAAIC;IACJ,IAAI;QACFA,UAAU,MAAMH,SAASE,UAAU;IACrC,EAAE,OAAOE,KAAc;QACrB,MAAM,IAAIC,MAAM,CAAC,gBAAgB,EAAEH,SAAS,CAAC,CAAC,EAAE;YAACI,OAAOF;QAAG;IAC7D;IAEA,IAAI;QACF,OAAOG,KAAKC,KAAK,CAACL;IACpB,EAAE,OAAOC,KAAc;QACrB,MAAM,IAAIC,MAAM,CAAC,iBAAiB,EAAEH,SAAS,SAAS,CAAC,EAAE;YAACI,OAAOF;QAAG;IACtE;AACF"}