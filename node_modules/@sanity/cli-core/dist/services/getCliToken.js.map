{"version":3,"sources":["../../src/services/getCliToken.ts"],"sourcesContent":["import {getConfig} from './cliUserConfig.js'\n\nlet cachedToken: string | undefined\n\n/**\n * Get the CLI authentication token from the environment or the config file\n *\n * @returns A promise that resolves to a CLI token, or undefined if no token is found\n * @internal\n */\nexport async function getCliToken(): Promise<string | undefined> {\n  if (cachedToken !== undefined) {\n    return cachedToken\n  }\n\n  const token = process.env.SANITY_AUTH_TOKEN\n  if (token) {\n    cachedToken = token.trim()\n    return cachedToken\n  }\n\n  cachedToken = await getConfig('authToken')\n  return cachedToken\n}\n"],"names":["getConfig","cachedToken","getCliToken","undefined","token","process","env","SANITY_AUTH_TOKEN","trim"],"mappings":"AAAA,SAAQA,SAAS,QAAO,qBAAoB;AAE5C,IAAIC;AAEJ;;;;;CAKC,GACD,OAAO,eAAeC;IACpB,IAAID,gBAAgBE,WAAW;QAC7B,OAAOF;IACT;IAEA,MAAMG,QAAQC,QAAQC,GAAG,CAACC,iBAAiB;IAC3C,IAAIH,OAAO;QACTH,cAAcG,MAAMI,IAAI;QACxB,OAAOP;IACT;IAEAA,cAAc,MAAMD,UAAU;IAC9B,OAAOC;AACT"}